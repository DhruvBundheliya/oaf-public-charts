fineract_backend:
  image:
    # Fineract backend image name
    name: ""
    # Fineract backend image tag
    tag: ""

# Settings for Fineract job backend microservice
fineractjob:
  name: fineractjob
  # Number of Fineract job pods
  replicaCount: 1
  # Resource settings for Fineract job backend pods
  resources:
    limits:
      cpu: "1000m"
      memory: "2Gi"

# Settings for Fineract report backend microservice
fineractreport:
  name: fineractreport
  # Number of Fineract report pods
  replicaCount: 1
  # Resource settings for Fineract report backend pods
  resources:
    limits:
      cpu: "1000m"
      memory: "2Gi"

# Settings for Fineract rest backend microservice
fineractrest:
  name: fineractrest
  # Number of Fineract rest pods
  replicaCount: 1
  # Resource settings for Fineract rest backend pods
  resources:
    limits:
      cpu: "1000m"
      memory: "2Gi"

fineract_frontend:
  image:
    # Fineract frontend image name
    name: ""
    # Fineract frontend image tag
    tag: ""

# Settings for Fineract rest frontend microservice
fineractrestUI:
  name: fineractrestui
  # Number of Fineract rest UI pods
  replicaCount: 1
  # Resource settings for Fineract rest UI pods
  resources:
    limits:
      cpu: "100m"
      memory: "100Mi"

# Settings for Fineract job frontend microservice
fineractjobUI:
  name: fineractjobui
  # Number of Fineract job UI pods
  replicaCount: 1
  # Resource settings for Fineract job UI pods
  resources:
    limits:
      cpu: "100m"
      memory: "100Mi"

# Settings for Fineract report frontend microservice
fineractreportUI:
  name: fineractreportui
  # Number of Fineract report UI pods
  replicaCount: 1
  # Resource settings for Fineract report UI pods
  resources:
    limits:
      cpu: "100m"
      memory: "100Mi"

commonconfig:
  brokerUrl: tcp://fineract-activemq-svc:61616
  FINERACT_BASE_URL: /fineract-provider/api/v1
  # Domain name for Fineract rest UI
  FINERACT_REST_DOMAIN: fineract-rest.oneacrefund.org
  # Domain name for Fineract job UI
  FINERACT_JOB_DOMAIN: fineract-job.oneacrefund.org
  # Domain name for Fineract report UI
  FINERACT_REPORT_DOMAIN: fineract-report.oneacrefund.org

fineract_db:
  #  DB hostname
  HOSTNAME: ""
  #  DB username
  USERNAME: ""
  #  DB password
  PASSWORD: ""
  #  DB name for tenants db
  FINERACT_DEFAULT_TENANTDB_NAME: fineract_tenants
  FINERACT_DEFAULT_TENANTDB_PORT: 3306

fineractactivemq:
  name: activemq
  # Activemq image
  image: "webcenter/activemq:5.14.3"
  # Number of activemq pods
  replicaCount: 1

fineractactivemqconfig:
  ACTIVEMQ_MIN_MEMORY: "512"
  ACTIVEMQ_MAX_MEMORY: "1024"

global:
  db:
    # DB name for tenants db
    tenantsDb: fineract_tenants
    # DB name for defaults db
    defaultDb: fineract_default

mysql:
  # Install MySQL?
  enabled: true
  image:
    # _Warning_: Fineract db driver doesn't support mysql 8
    tag: "5.7"
    # enable to pass storageclass
  # persistence:
  #   storageClass: ""
  auth:
    # Please change these...
    rootPassword: ""
    # Please change these...
    password: ""
    # Fineract db user
    username: fineract
  # Dictionary of init scripts to run on initial MySQL setup __WARNING__! These db init scripts will only be executed on a brand new, uninitialized instance!
  # Further changes will be ignored after the first init, unless you wipe the underlying PV/PVC volumes
  # @default -- see `values.yaml`
  initdbScripts:
    create_db.sql: |
      # create databases
      CREATE DATABASE IF NOT EXISTS `{{ .Values.global.db.tenantsDb }}`;
      CREATE DATABASE IF NOT EXISTS `{{ .Values.global.db.defaultDb }}`;

      # create root user and grant rights
      GRANT ALL ON {{ .Values.global.db.tenantsDb }}.* TO '{{ .Values.auth.username | default "root" }}'@'%';
      GRANT ALL ON {{ .Values.global.db.defaultDb }}.* TO '{{ .Values.auth.username | default "root" }}'@'%';

# StorageClass name for PVC
storageClassName: aws-efs
imagePullPolicy: "Always"

ingress:
  enabled: false
